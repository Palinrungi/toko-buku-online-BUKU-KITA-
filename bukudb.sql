CREATE TABLE KATEGORI (
    KATEGORI_ID INT NOT NULL AUTO_INCREMENT,
    KATEGORI_NAMA VARCHAR(25),
    PRIMARY KEY(KATEGORI_ID)
);

CREATE TABLE PENGARANG (
    PENGARANG_ID CHAR(3) NOT NULL,
    PENGARANG_NAMA VARCHAR(30),
    PRIMARY KEY(PENGARANG_ID)
);
    
CREATE TABLE PENERBIT (
    PENERBIT_ID CHAR(4),
    PENERBIT_NAMA VARCHAR(50),
    PRIMARY KEY(PENERBIT_ID)
);

CREATE TABLE BUKU (
    BUKU_ISBN CHAR(13) NOT NULL,
    BUKU_JUDUL VARCHAR(75),
    PENERBIT_ID CHAR(4),
    BUKU_TGLTERBIT DATE,
    BUKU_JMLHALAMAN INT,
    BUKU_DESKRIPSI TEXT,
    BUKU_HARGA DECIMAL,
    PRIMARY KEY(BUKU_ISBN),
    FOREIGN KEY(PENERBIT_ID)
    REFERENCES PENERBIT(PENERBIT_ID)
);

CREATE TABLE LINK_BUKU_PENGARANG (
    BUKU_ISBN CHAR(13) NOT NULL,
    PENGARANG_ID CHAR(3) NOT NULL,
    PRIMARY KEY(BUKU_ISBN, PENGARANG_ID),
    FOREIGN KEY(BUKU_ISBN)
    REFERENCES BUKU(BUKU_ISBN),
    FOREIGN KEY(PENGARANG_ID)
    REFERENCES PENGARANG(PENGARANG_ID)
);

CREATE TABLE LINK_BUKU_KATEGORI (
    BUKU_ISBN CHAR(13) NOT NULL,
    KATEGORI_ID INT NOT NULL,
    PRIMARY KEY(BUKU_ISBN, KATEGORI_ID),
    FOREIGN KEY(BUKU_ISBN)
    REFERENCES BUKU(BUKU_ISBN),
    FOREIGN KEY(KATEGORI_ID)
    REFERENCES KATEGORI(KATEGORI_ID)
);


CREATE TABLE PENGGUNA (
    ID_USER INT AUTO_INCREMENT,
    NAMA_USER VARCHAR(35),
    ALAMAT VARCHAR(150),
    EMAIL VARCHAR(50),
    NO_TELEPHONE INT(12),
    PRIMARY KEY (ID_USER, NAMA_USER)
)

CREATE TABLE PEMBELI (
    ID_PEMBELI INT AUTO_INCREMENT,
    NAMA_USER VARCHAR(35),
    BUKU_JUDUL VARCHAR(75),
    JUMLAH_ITEM INT,
    BUKU_HARGA DECIMAL,
    TOTAL_HARGA DECIMAL NOT NULL,
    PRIMARY KEY(ID_PEMBELI, NAMA_USER)
);

ALTER TABLE PENGGUNA ADD CONSTRAINT UNIQUE (NAMA_USER);

ALTER TABLE PEMBELI ADD FOREIGN KEY (NAMA_USER) REFERENCES PENGGUNA(NAMA_USER)


INSERT INTO KATEGORI(KATEGORI_NAMA)
VALUES ( 'Database');
INSERT INTO KATEGORI(KATEGORI_NAMA)
VALUES('Desain Grafs');
INSERT INTO KATEGORI(KATEGORI_NAMA)
VALUES ('Jaringan Komputer');

INSERT INTO KATEGORI(KATEGORI_NAMA)
VALUES('Pemrograman');
INSERT INTO KATEGORI(KATEGORI_NAMA)
VALUES('Web dan Internet');
INSERT INTO KATEGORI(KATEGORI_NAMA)
VALUES('Ofce Application');

select * from kategori;

INSERT INTO PENGARANG VALUES('P01', 'Andi Setlawan');
INSERT INTO PENGARANG VALUES( 'P02', 'Rudi Wicaksono');
INSERT INTO PENGARANG VALUES('P03', 'Beni Tito');
INSERT INTO PENGARANG VALUES( 'P04', 'Prasetya');
INSERT INTO PENGARANG VALUES( 'P05', 'Erik Rusdianto');
INSERT INTO PENGARANG VALUES('P06','Rosdiana');
INSERT INTO PENGARANG VALUES( 'P07', 'Fredi Hidayat');
INSERT INTO PENGARANG VALUES( 'P08', 'Hasanudin');
INSERT INTO PENGARANG VALUES('P09', 'Ahmad Hanafi');
INSERT INTO PENGARANG VALUES('P10','iwan_Gunardi');
INSERT INTO PENGARANG VALUES( 'P11', 'Iman Teguh');
INSERT INTO PENGARANG VALUES('P12', 'Abdul Ghozali');
INSERT INTO PENGARANG VALUES ('P13', 'Tegar Sanjaya');
INSERT INTO PENERBIT VALUES('PB01', 'ANGKASA RAYA');
INSERT INTO PENERBIT VALUES('PB02', 'CAHAYA ILMU PERSADA');
INSERT INTO PENERBIT VALUES('PB03', 'SINAR ILMU PERKASA');
INSERT INTO PENERBIT VALUES('PB04', 'INTAN');
INSERT INTO PENERBIT VALUES('PB05', 'SINAR RAYA');
INSERT INTO PENERBIT VALUES('PB06', 'INFORMATIKA');
INSERT INTO PENERBIT VALUES('PB07', 'TIGA SEKAWAN');
INSERT INTO PENERBIT VALUES('PB08', 'CIPTA ILMU');


INSERT INTO BUKU VALUES('222-34222-1-0',
'Belajar Photoshop', 'PB01',
'2019/07/02', 300, NULL, 42000);
INSERT INTO BUKU VALUES('222-34222-1-1',
'Panduan Corel Draw' ,'PB02',
'2020/03/15', 400, NULL, 55000);

INSERT INTO BUKU VALUES('979-96446-9-0',
'Belajar SQL', 'PB06',
'2019/10/12', 346, NULL, 45000);
INSERT INTO BUKU VALUES('979-96446-9-1',
'Panduan Basis Data', 'PB01',
'2017/03/02', 257, NULL, 37000);
INSERT INTO BUKU VALUES('979-96446-9-2',
'Perancangan Sistem', 'PB03',
'2013/09/20', 403, NULL, 37000);
INSERT INTO BUKU VALUES('979-96446-9-3',
'Microsoft Access', 'PB06',
'2015/07/13', 400, NULL, 48500);
INSERT INTO BUKU VALUES('888-96771-3-0',
'Pemrograman Pascal', 'PB08',
'2014/11/01', 350, NULL, 50000);
INSERT INTO BUKU VALUES('888-96771-3-1',
'Pemrograman Java', 'PB06',
'2017/01/23', 450, NULL, 72000);
INSERT INTO BUKU VALUES('888-96771-3-2',
'Pemrograman C untuk Hardware', 'PB05',
'2016/12/25', 398, NULL, 47000);


INSERT INTO BUKU VALUES('888-96771-3-4',
'Belajar Delphi', 'PB05',
'2018/08/11', 328, NULL, 50000);
INSERT INTO BUKU VALUES('888-96771-3-5',
'Visual Basic', 'PB02',
'2017/10/14', 250, NULL, 50000);
INSERT INTO BUKU VALUES('666-96771-2-0',
'Panduan Membangun Jaringan TCP/IP', 'PBO8',
'2016/08/02', 200, NULL, 60000);
INSERT INTO BUKU VALUES('666-96771-2-1',
'Implementasi TCP/IP di Linux', 'PB08',
'2018/11/21', 230, NULL, 35000);
INSERT INTO BUKU VALUES('777-76723-5-0',
'Belajar PHP 8', 'PB07',
'2020/05/02', 600, NULL, 95000);
INSERT INTO BUKU VALUES('777-76723-5-1',
'Aplikasi Web dengan Python', 'PB07',
'2014/08/01', 180, NULL, 30000);
INSERT INTO BUKU VALUES('777-76723-5-2',
'Internet Marketing', 'PB07',
'2017/01/24', 150, NULL, 38500);
INSERT INTO BUKU VALUES('777-76723-5-3',
'Panduan Menjadi Youtuber', 'PB07',
'2017/01/24', 243, NULL, 38500);
INSERT INTO BUKU VALUES('999-11555-2-0',
'Microsoft PowerPoint', 'PB06',
'2018/11/23', 300, NULL, 57500);
INSERT INTO BUKU VALUES('999-11555-2-1',
'Microsoft Word', 'PB04',
'2017/12/01', 270, NULL, 60000);
INSERT INTO BUKU VALUES('888-96771-3-3',
'Panduan C++', 'PB06',
'2015/07/15', 490, NULL, 65000);

INSERT INTO LINK_BUKU_PENGARANG VALUES ('222-34222-1-0', 'P01');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('222-34222-1-1', 'P04');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('666-96771-2-0', 'P04');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('666-96771-2-0', 'P07');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('666-96771-2-0', 'P06');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('666-96771-2-1', 'P04');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('666-96771-2-1', 'P01');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-0', 'P02');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-0', 'P04');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-1', 'P03');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-1', 'P12');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-1', 'P10');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-2', 'P13');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-3', 'P08');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('777-76723-5-3', 'P09');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-0', 'P04');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-1', 'P02');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-1', 'P11');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-2', 'P01');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-2', 'P06');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-3', 'P02');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-4', 'P10');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-4', 'P09');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('888-96771-3-5', 'P02');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('979-96446-9-0', 'P11');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('979-96446-9-0', 'P02');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('979-96446-9-1', 'P07');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('979-96446-9-2', 'P13');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('979-96446-9-2', 'P10');
INSERT INTO LINK_BUKU_PENGARANG VALUES ('979-96446-9-2', 'P12');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('979-96446-9-2', 'P03');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('979-96446-9-3', 'P11');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('999-11555-2-0', 'P11');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('999-11555-2-0', 'P13');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('999-11555-2-1', 'P08');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('999-11555-2-1', 'P09');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('999-11555-2-1', 'P10');

INSERT INTO LINK_BUKU_PENGARANG
VALUES ('999-11555-2-1', 'P06');

INSERT INTO LINK_BUKU_KATEGORI VALUES('222-34222-1-0', 2);
INSERT INTO LINK_BUKU_KATEGORI VALUES('222-34222-1-1', 2);
INSERT INTO LINK_BUKU_KATEGORI VALUES('979-96446-9-0', 1);
INSERT INTO LINK_BUKU_KATEGORI VALUES('979-96446-9-1', 1);
INSERT INTO LINK_BUKU_KATEGORI VALUES('979-96446-9-2', 1);
INSERT INTO LINK_BUKU_KATEGORI VALUES('979-96446-9-2', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('979-96446-9-3', 1);
INSERT INTO LINK_BUKU_KATEGORI VALUES('888-96771-3-0', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('888-96771-3-1', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('888-96771-3-2', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('888-96771-3-3', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('888-96771-3-4', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('888-96771-3-5', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('666-96771-2-0', 3);
INSERT INTO LINK_BUKU_KATEGORI VALUES('666-96771-2-1', 3);
INSERT INTO LINK_BUKU_KATEGORI VALUES('777-76723-5-0', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('777-76723-5-0', 5);
INSERT INTO LINK_BUKU_KATEGORI VALUES('777-76723-5-1', 4);
INSERT INTO LINK_BUKU_KATEGORI VALUES('777-76723-5-1', 5);
INSERT INTO LINK_BUKU_KATEGORI VALUES('777-76723-5-2', 5);
INSERT INTO LINK_BUKU_KATEGORI VALUES('777-76723-5-3', 5);
INSERT INTO LINK_BUKU_KATEGORI VALUES('999-11555-2-0', 6);
INSERT INTO LINK_BUKU_KATEGORI VALUES('999-11555-2-1', 6);
